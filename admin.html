<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ–°å¢ä¸­è—¥åŠ©æ‰‹ | æœ¬è‰å­¸åœ’</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .form-container { max-width: 600px; margin: 0 auto; background: white; padding: 30px; border-radius: 20px; box-shadow: var(--shadow); }
        .form-group { margin-bottom: 15px; }
        label { display: block; font-weight: bold; margin-bottom: 5px; }
        input, select, textarea { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; }
        textarea { height: 80px; }
        .output-area { background: #333; color: #fff; padding: 15px; border-radius: 10px; font-family: monospace; margin-top: 20px; white-space: pre-wrap; word-break: break-all; }
        .required::after { content: " *"; color: red; }
    </style>
</head>
<body>
    <nav>
        <div class="logo">ğŸŒ¿ æœ¬è‰å¾Œå°</div>
        <ul class="menu">
            <li><a href="index.html">å›å‰å°</a></li>
        </ul>
    </nav>

    <main>
        <div class="form-container">
            <h2>ğŸ“ æ–°å¢ä¸­è—¥è³‡æ–™</h2>
            <p>å¡«å¯«å®Œç•¢å¾Œï¼Œè¤‡è£½ä¸‹æ–¹çš„ JSON ä»£ç¢¼è²¼åˆ° GitHub çš„ herbs.json ä¸­ã€‚</p>
            
            <div class="form-group">
                <label class="required">ä¸­è—¥å (Chinese Name)</label>
                <input type="text" id="cname" placeholder="ä¾‹å¦‚ï¼šäººåƒ">
            </div>
            <div class="form-group">
                <label class="required">ç§‘å (Family)</label>
                <input type="text" id="family" placeholder="ä¾‹å¦‚ï¼šäº”åŠ ç§‘ (Araliaceae)">
            </div>
            <div class="form-group">
                <label>ç”Ÿè—¥å (Latin Name)</label>
                <input type="text" id="latin" placeholder="ä¾‹å¦‚ï¼šGinseng Radix">
            </div>
            <div class="form-group">
                <label>ç”¨éƒ¨ (Used Part)</label>
                <input type="text" id="part" placeholder="ä¾‹å¦‚ï¼šæ ¹">
            </div>
            <div class="form-group">
                <label>åŠŸæ•ˆ (ç”¨é€—è™Ÿåˆ†éš”)</label>
                <input type="text" id="effects" placeholder="ä¾‹å¦‚ï¼šå¤§è£œå…ƒæ°£, å¾©è„ˆå›ºè„«">
            </div>
            <div class="form-group">
                <label>ä¸»æ²»/å‚™è¨»</label>
                <textarea id="indication" placeholder="ç›¸é—œç­†è¨˜..."></textarea>
            </div>
            <div class="form-group">
                <label>å¹´ç´š</label>
                <select id="grade">
                    <option value="å¤§ä¸€">å¤§ä¸€</option>
                    <option value="å¤§äºŒ">å¤§äºŒ</option>
                    <option value="å¤§ä¸‰">å¤§ä¸‰</option>
                </select>
            </div>

            <button class="btn-primary" onclick="generateJSON()">ç”Ÿæˆ JSON ä»£ç¢¼</button>

            <h3>è¤‡è£½ä»¥ä¸‹ä»£ç¢¼ï¼š</h3>
            <div class="output-area" id="output">...å°šæœªç”Ÿæˆ...</div>
            <button class="btn-secondary" onclick="copyToClipboard()" style="margin-top:10px;">ä¸€éµè¤‡è£½</button>
        </div>
    </main>

    <script>
        function generateJSON() {
            // å–å¾—ç•¶å‰æ™‚é–“æˆ³ç•¶ä½œ IDï¼Œé¿å…é‡è¤‡
            const id = Date.now(); 
            const cname = document.getElementById('cname').value;
            const family = document.getElementById('family').value;
            
            if(!cname || !family) {
                alert('ä¸­è—¥åå’Œç§‘åæ˜¯å¿…å¡«çš„å–”ï¼');
                return;
            }

            const effectsArr = document.getElementById('effects').value.split(/[,ï¼Œ]/).map(s => s.trim()).filter(s => s);

            const newHerb = {
                id: id,
                chinese_name: cname,
                latin_name: document.getElementById('latin').value || "",
                family: family,
                used_part: document.getElementById('part').value || "",
                effects: effectsArr,
                indications: document.getElementById('indication').value || "",
                grade: document.getElementById('grade').value,
                image: "images/placeholder.jpg", // é è¨­åœ–ç‰‡
                wrong_effects: [] // ç•™ç©ºï¼Œè®“ç¨‹å¼è‡ªå‹•éš¨æ©ŸæŠ“
            };

            // åŠ ä¸Šé€—è™Ÿï¼Œæ–¹ä¾¿ç›´æ¥è²¼
            const jsonString = "," + JSON.stringify(newHerb, null, 2);
            document.getElementById('output').innerText = jsonString;
        }

        function copyToClipboard() {
            const text = document.getElementById('output').innerText;
            navigator.clipboard.writeText(text).then(() => alert('è¤‡è£½æˆåŠŸï¼è«‹å» GitHub è²¼ä¸Šã€‚'));
        }
    </script>
</body>
</html>
